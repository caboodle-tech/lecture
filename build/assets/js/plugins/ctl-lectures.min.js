var CtlLectures=function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}const t=(e,t)=>{const n=e.getRevealElement(),r=n.querySelector(".master-slide");if(!r||t.count>10)return void clearInterval(t.id);const d=n.querySelectorAll(".pdf-page");d.length<e.getTotalSlides()?t.count+=1:(d.forEach((e=>{const t=document.createElement("DIV");t.classList.add("master-slide"),t.innerHTML=r.innerHTML,e.appendChild(t)})),clearInterval(t.id))},n=()=>{const{scripts:e}=window.document;let t;for(let n=0;n<e.length;n++){if(e[n].src.includes("plugins/ctl-lectures")){t=e[n].src;break}}return t&&t.includes("assets/js")?t.substring(0,t.indexOf("assets")+6):""},r=(e,t="0.0.0")=>{const n=new URL(e);n.searchParams.set("ver",t);const r=document.createElement("link");r.rel="stylesheet",r.href=n.toString(),document.head.appendChild(r)},d=(e,t="0.0.0")=>new Promise(((n,r)=>{const d=new URL(e);d.searchParams.set("ver",t);const o=document.createElement("script");o.type="text/javascript",o.onload=n,o.onerror=r,o.src=d.toString(),document.head.append(o)}));async function o(e){for(let t=0;t<e.length;t++)await d(e[t])}const i=(e,t)=>{const n=e.getRevealElement(),r=n.querySelector(".master-slide");if(!r)return void clearInterval(t.id);let d=n.querySelector(".backgrounds");if(!d){if(t.count<10)return void(t.count+=1);d=n.lastElementChild}d.insertAdjacentElement("afterend",r),clearInterval(t.id)};return e((()=>{let e=!1;const l={print:{id:null,count:0},relocate:{id:null,count:0}};return{id:"lectures",init:a=>{a.getUrlBase=n,a.loadCss=r,a.loadScript=d,a.loadScripts=o,a.addKeyBinding({keyCode:68,key:"D",description:"Enable Dark Mode"},(()=>{a.getPlugin("ctl-mermaid").enableDarkMode(),document.body.classList.add("dark-mode"),e=!0})),a.addKeyBinding({keyCode:76,key:"L",description:"Disable Dark Mode"},(()=>{a.getPlugin("ctl-mermaid").disableDarkMode(),document.body.classList.remove("dark-mode"),e=!1})),a.addKeyBinding({keyCode:80,key:"P",description:"Open Print Mode"},(()=>{const t=window.location.origin+window.location.pathname;e?window.open(`${t}?print-pdf&dark-mode=1`,"_blank"):window.open(`${t}?print-pdf`,"_blank")})),l.relocate.id=setInterval(i.bind(null,a,l.relocate),100),a.isPrintingPDF()&&(window.location.search.substring(1).includes("dark-mode=1")&&document.body.classList.add("dark-mode"),l.print.id=setInterval(t.bind(null,a,l.print),300))}}}))}();